<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Welcome 2026 â¤ï¸</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<!-- Fonts -->
<link href="https://fonts.googleapis.com/css2?family=Playfair+Display:wght@600&family=Quicksand:wght@400;600&family=Pacifico&display=swap" rel="stylesheet">

<link rel="stylesheet" href="style.css">
</head>

<body>

<!-- Desktop warning -->
<div class="desktop-warning">
  <p>ğŸ’Œ This surprise is meant to be opened on your phone.<br>Please open this link on mobile ğŸ’•</p>
</div>

<div class="mobile-only">

  <!-- Background -->
  <div class="background"></div>
  <div class="particles"></div>

  <!-- Music -->
  <audio id="bgMusic" loop preload="auto">
    <source src="music/lost-stars.mp3" type="audio/mpeg">
  </audio>

  <!-- Slides container -->
  <div class="slides-container">

    <!-- Example slide -->
    <div class="slide active" onclick="reveal(this)">
      <img src="images/photo1.jpg">
      <div class="caption">
        <h3>My first favorite memory ğŸ’•</h3>
        <p>We finally braved the room and showed everyone we loved each other.</p>
      </div>
    </div>

    <div class="slide" onclick="reveal(this)">
      <img src="images/photo2.jpg">
      <div class="caption">
        <h3>A day Iâ€™ll never forget âœ¨</h3>
        <p>Our first job â€” from nothing to where we are now.</p>
      </div>
    </div>

    <!-- Repeat slides ... -->
    <div class="slide" onclick="reveal(this)">
      <img src="images/photo10.jpg">
      <div class="caption">
        <h3>My favorite person, always ğŸ’–</h3>
        <p>No matter the year, it will always be you.</p>
      </div>
    </div>

    <!-- Ending slide -->
    <div class="slide ending">
      <button onclick="showEnding()">Tap this â¤ï¸</button>
      <p id="finalMessage">
        No matter where 2026 takes us, I choose you â€” today and every year after.
      </p>
    </div>

  </div>
</div>

<script>
let slides = document.querySelectorAll('.slide');
let currentSlide = 0;
let musicStarted = false;
let isAnimating = false;

function showSlide(index, direction=1){
  if(isAnimating || index < 0 || index >= slides.length) return;
  isAnimating = true;

  let prevSlide = slides[currentSlide];
  let nextSlide = slides[index];

  nextSlide.style.transform = `translateX(${100 * direction}%)`;
  nextSlide.classList.add('active');

  requestAnimationFrame(() => {
    prevSlide.style.transform = `translateX(${-100 * direction}%)`;
    nextSlide.style.transform = 'translateX(0)';
  });

  setTimeout(() => {
    prevSlide.classList.remove('active');
    prevSlide.style.transform = '';
    currentSlide = index;
    isAnimating = false;
  }, 400); // match CSS transition duration
}

function reveal(slide){
  slide.classList.toggle('revealed');
  slide.classList.add('tap');
  setTimeout(()=> slide.classList.remove('tap'),150);

  if(!musicStarted){
    document.getElementById("bgMusic").play();
    musicStarted = true;
  }
}

function showEnding(){
  document.getElementById("finalMessage").classList.add("show");
  if(!musicStarted){
    document.getElementById("bgMusic").play();
    musicStarted = true;
  }
}

// Swipe detection
let startX=0, endX=0;
const container = document.querySelector('.slides-container');
container.addEventListener('touchstart', e=> startX = e.touches[0].clientX);
container.addEventListener('touchend', e=>{
  endX = e.changedTouches[0].clientX;
  if(startX - endX > 50) showSlide(currentSlide+1,1);
  if(endX - startX > 50) showSlide(currentSlide-1,-1);
});
</script>
</body>
</html>
